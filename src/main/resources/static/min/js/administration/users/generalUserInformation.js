var generalUserInformation=Vue.component("general-user-information",{data:function(){return{allUsers:[],editedUser:{},showLoader:!1,filterTemplate:"",errorCode:"",message:""}},computed:{filteredData:function(){if(""===this.filterTemplate)return this.allUsers;var a=this.filterTemplate.toLocaleLowerCase();return this.allUsers.filter(function(b){return-1<String(b.login).toLocaleLowerCase().indexOf(a)})}},methods:{loadAllUsers:function(){var a=this;a.showLoader=!0;axios.get(adminUrlTemplate.users.all).then(function(b){a.allUsers=
b.data;a.showLoader=!1})["catch"](function(b){a.showLoader=!1})},userByIndex:function(a){return this.allUsers.findIndex(function(b){return b.id===a.id})},onDelete:function(a){this.editedUser=this.allUsers[a];this.errorCode="";this.message="\x3cdiv class\x3d'row'\x3e\x3cdiv class\x3d'col-4'\x3eid:\x3c/div\x3e\x3cdiv class\x3d'col-8'\x3e"+this.editedUser.id+"\x3c/div\x3e\x3cdiv class\x3d'col-4'\x3eLogin:\x3c/div\x3e\x3cdiv class\x3d'col-8'\x3e"+this.editedUser.login+"\x3c/div\x3e\x3c/div\x3e";$("#confirmModalForm").modal("show")},
onDeleteConfirm:function(a){this.errorCode="-1";console.log(a);var b=this.userByIndex(a),c=this;axios["delete"](adminUrlTemplate.users.userById+a.id).then(function(d){200===d.status?(c.errorCode="",$("#confirmModalForm").modal("hide"),c.allUsers.splice(b,1)):(c.errorCode=d.status,console.log("Response on delete id \x3d "+a.id+"\n"+d.status),c.errorCode=d.status)})},editUser:function(a){this.editedUser=_.cloneDeep(a);this.showModal=!0;$("#modalUserInfoForm").modal("show")},doneEdit:function(a){$("#modalUserInfoForm").modal("hide");
var b=this.userByIndex(a);this.allUsers.splice(b,1,a);this.showModal=!1}},created:function(){this.loadAllUsers()}});