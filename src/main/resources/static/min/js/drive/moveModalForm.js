var moveModalForm=Vue.component("move-modal-form",{props:["errorMessage","customHeader","message","operationInProgress"],data:function(){return{currentUrl:"",content:{},subDirectories:[],loaderVisible:!1,errorCode:""}},watch:{content:function(a){this.currentUrl=this.makePath(a.current,!1);jQuery.isEmptyObject(a.current)&&(this.currentUrl="");this.currentUrl=a.current.parentUri;jQuery.isEmptyObject(a.current.name)||(this.currentUrl+="/"+a.current.name)}},computed:{errorMessageObject:function(){var a=
[];""!==this.errorCode&&a.push({text:this.errorMessage,code:this.errorCode});return a},sortedChildDirectories:function(){return this.content.childDirectories.sort(dynamicSort("name",!0))},subDirectoriesWithUri:function(){var a=[];if(!jQuery.isEmptyObject(this.content.parent)){var b=this.content.parent;b.uri=b.parentUri;b.name="..";b.nameInHtml='\x3ci class\x3d"fas fa-level-up-alt"\x3e\x3c/i\x3e';a.push(b)}jQuery.isEmptyObject(this.content.childDirectories)||this.sortedChildDirectories.forEach(function(c){c.uri=
c.parentUri+"/"+c.name;c.nameInHtml=c.name;a.push(c)});return a},isLoaderVisible:function(){return this.operationInProgress||this.loaderVisible}},methods:{makePath:function(a,b){if(jQuery.isEmptyObject(a))return"";var c;c=b?a.parentUri.replace(/\/api\/.+\/directories/,'\x3ci class\x3d"fa fa-home"\x3e\x3c/i\x3e'):a.parentUri.replace(/\/api\/.+\/directories/,"..");jQuery.isEmptyObject(a.name)||(c+="/"+a.name);return c},closeAlert:function(){this.errorCode=""},loadSubDirectories:function(a){var b=this;
b.loaderVisible=!0;this.errorCode="";axios.get(a).then(function(a){200===a.status?b.content=a.data:b.errorCode=a.status;b.loaderVisible=!1})["catch"](function(a){b.errorCode=a.response.status;b.loaderVisible=!1})},changeDirectory:function(a){this.loadSubDirectories(a.uri)},cancel:function(){$(".moveModalForm").modal("hide")},confirm:function(){this.$emit("move-confirm",this.currentUrl)}}});