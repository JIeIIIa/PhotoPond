var loader=Vue.component("loader-component",{}),changePassword=Vue.component("change-password-card",{props:[],data:function(){return{inputs:{oldPassword:{value:"",errorMsg:""},password:{value:"",errorMsg:""},passwordConfirmation:{value:"",errorMsg:""}},showLoader:!1,alert:{messages:[],type:""}}},computed:{isPasswordNotConfirmed:function(){return this.inputs.password.value!==this.inputs.passwordConfirmation.value},isChangeNotAllowed:function(){return this.isPasswordNotConfirmed||5>this.inputs.password.value.length||
this.showLoader}},methods:{clearItem:function(a){a.value="";a.errorMsg=""},clearInputs:function(){for(var a in this.inputs)this.inputs.hasOwnProperty(a)&&this.clearItem(this.inputs[a])},resolveError:function(a){"userInfoDTO.oldPassword"===a.objectName&&(this.inputs.oldPassword.errorMsg=a.message);"userInfoDTO.password"===a.objectName&&(this.inputs.password.errorMsg=a.message);"EqualPasswords.userInfoDTO"===a.objectName&&(this.inputs.passwordConfirmation.errorMsg=a.message)},resolveResponseErrors:function(a){var c=
this;$.isArray(a)?a.forEach(function(a){c.resolveError(a)}):(console.log(a),alert(a))},responseWithError:function(a){422===a.status?(this.alert.messages.push({text:a.data,code:a.status}),this.alert.type="danger"):this.resolveResponseErrors(a.data)},change:function(){var a=this,c={login:$("#login").text(),oldPassword:this.inputs.oldPassword.value,password:this.inputs.password.value,passwordConfirmation:this.inputs.passwordConfirmation.value};a.showLoader=!0;a.clearErrors();axios.put(appendToUrl(location.protocol+
"//"+location.host+location.pathname,"password"),c).then(function(b){200===b.status?(a.alert.messages.push({text:b.data}),a.alert.type="success",a.clearInputs()):a.responseWithError(b);a.showLoader=!1})["catch"](function(b){a.responseWithError(b.response);a.showLoader=!1})},clearErrors:function(){this.alert.messages=[];this.alert.type="";for(var a in this.inputs)this.inputs.hasOwnProperty(a)&&(this.inputs[a].errorMsg="")},closeAlert:function(a){this.clearErrors()},closeInputAlert:function(a){this.inputs[a].errorMsg=
""}}});