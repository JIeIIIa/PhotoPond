<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:v-on="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:v-bind="http://www.w3.org/1999/xhtml"
      lang="en">


<head>
    <title>PhotoPond - general users information table (Vue.js component)</title>
    <!-- Required meta tags -->
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS with custom styles -->
    <link rel="stylesheet" href="../../../static/css/photopond.css">
</head>

<body>
<div id="usersApp">
    <users-table inline-template
                 th:fragment="usersTable" th:remove="tag">

        <div class="container-fluid">
            <div class="row">
                <table class="table table-sm h-100">
                    <thead class="thead-dark">
                    <tr class="d-flex">
                        <th class="col-1">
                            <div class="d-flex cursor-pointer h-100 justify-content-center align-items-center"
                                 v-on:click="sortBy('id')">
                                <span>id</span>
                                <i class="textArrow fa ml-sm-1"
                                   :class="textArrowClass"
                                   v-if="isSortedByField('id')"></i>
                            </div>
                        </th>
                        <th class="col-5">
                            <div class="d-flex cursor-pointer h-100 justify-content-center align-items-center"
                                 v-on:click="sortBy('login')">
                                <span class="text-center break-word-wrap" th:text="#{user.login}">Login</span>
                                <i class="textArrow fa ml-sm-1"
                                   :class="textArrowClass"
                                   v-if="isSortedByField('login')"></i>
                            </div>
                        </th>
                        <th class="col-3">
                            <div class="d-flex cursor-pointer h-100 justify-content-center align-items-center"
                                 v-on:click="sortBy('role')">
                                <span class="text-center break-word-wrap" th:text="#{user.role}">Role</span>
                                <i class="textArrow fa ml-sm-1"
                                   :class="textArrowClass"
                                   v-if="isSortedByField('role')"></i>
                            </div>
                        </th>
                        <th class="col-3">
                            <div class="d-flex cursor-pointer h-100 justify-content-center align-items-center">
                                <span class="text-center break-word-wrap" th:text="#{administration.table.allUsers.actions}">Actions</span>
                            </div>
                        </th>
                    </tr>
                    </thead>

                    <tbody name="table-row" is="transition-group">
                    <tr class="d-flex" v-for="(user, key) in sortedUsersList" v-bind:key="user.id">
                        <td class="col-1">{{ user.id }}</td>
                        <td class="col-5 break-word-wrap">{{ user.login }}</td>
                        <td class="col-3 break-word-wrap">{{ user.role }}</td>
                        <td class="col-3 text-center">
                            <div class="btn-group-vertical btn-group-sm">
                                <button type="button" class="btn btn-info btn-sm"
                                        v-on:click="$emit('edit-user', user)">
                                    <i class="fas fa-edit d-inline-flex d-sm-none"></i>
                                    <span class="d-none d-sm-inline-flex" th:text="#{btn.edit}">Edit</span>
                                </button>
                                <button type="button" class="btn btn-danger btn-sm"
                                        v-on:click="$emit('delete-user', key)">
                                    <i class="far fa-trash-alt d-inline-flex d-sm-none"></i>
                                    <span class="d-none d-sm-inline-flex" th:text="#{btn.delete}">Delete</span>
                                </button>
                            </div>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </users-table>
</div>

<!-- jQuery -->
<script src="../../../static/libs/jquery/jquery-3.3.1.slim.min.js"></script>

<!-- Bootstrap JS -->
<script src="../../../static/libs/popper/popper.1.14.3.min.js"></script>
<script src="../../../static/libs/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<!-- Vue.js -->
<script src="../../../static/libs/vuejs/vue-2.5.16.js"></script>
<script src="../../../static/libs/axios/axios.0.18.0.min.js"></script>
<script src="../../../static/libs/lodash/lodash.4.17.10.min.js"></script>

<script src="../../../static/js/administration/users/generalUserInformationTable.js"></script>

</body>
</html>